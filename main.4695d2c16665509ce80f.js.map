{"version":3,"sources":["webpack:///./api.js","webpack:///./index.js"],"names":["axios","defaults","baseURL","login","userData","post","then","token","data","headers","common","getContacts","get","refs","loader","document","querySelector","logout","content","form","userInfo","name","email","list","contacts","showLoader","classList","add","hideLoader","remove","render","items","map","id","number","join","innerHTML","insertAdjacentHTML","addEventListener","password","user","textContent","finally","e","payload","target","elements","newContact","value","preventDefault","contact","push","dataset","delete","deleteContact","filter","item"],"mappings":"wNACAA,IAAMC,SAASC,QAAU,4CAEzB,IAIaC,EAAQ,SAAAC,GAAQ,OAC1BJ,IAAMK,KAAK,eAAgBD,GAAUE,MAAK,YAAc,IALzCC,EAK8BC,EAAW,EAAXA,KAG7C,OAReD,EAMHC,EAAKD,MALjBP,IAAMC,SAASQ,QAAQC,OAAvB,cAAiDH,EAO1CC,MAKGG,EAAc,kBACxBX,IAAMY,IAAI,aAAaN,MAAK,qBAAGE,SCZ5BK,G,UAAO,CACXC,OAAQC,SAASC,cAAc,WAC/Bb,MAAOY,SAASC,cAAc,UAC9BC,OAAQF,SAASC,cAAc,WAC/BE,QAASH,SAASC,cAAc,YAChCG,KAAMJ,SAASC,cAAc,SAC7BI,SAAUL,SAASC,cAAc,cACjCK,KAAMN,SAASC,cAAc,SAC7BM,MAAOP,SAASC,cAAc,UAC9BO,KAAMR,SAASC,cAAc,WAG3BQ,EAAW,GAETC,EAAa,kBAAMZ,EAAKC,OAAOY,UAAUC,IAAI,SAC7CC,EAAa,kBAAMf,EAAKC,OAAOY,UAAUG,OAAO,SAEhDC,EAAS,WACb,IAAMC,EAAQP,EACXQ,KACC,gBAAGC,EAAH,EAAGA,GAAH,eAAOZ,KAAP,OAAaa,OAAb,mCAC2DD,EAD3D,sBAGDE,KAAK,IAERtB,EAAKU,KAAKa,UAAY,GACtBvB,EAAKU,KAAKc,mBAAmB,YAAaN,IA0E5ClB,EAAKV,MAAMmC,iBAAiB,SAvER,WASlBb,IAEAtB,EAViB,CACfmB,MAAO,qBACPiB,SAAU,YASTjC,MAAK,YAAc,IAAXkC,EAAW,EAAXA,KACP3B,EAAKQ,KAAKoB,YAAcD,EAAKnB,KAC7BR,EAAKS,MAAMmB,YAAcD,EAAKlB,MAE9BT,EAAKV,MAAMuB,UAAUG,OAAO,QAC5BhB,EAAKI,OAAOS,UAAUC,IAAI,QAC1Bd,EAAKK,QAAQQ,UAAUC,IAAI,WAE5BrB,KAAKK,GACLL,MAAK,SAAAE,GAAI,OAAKgB,EAAWhB,KACzBF,KAAKwB,GACLY,QAAQd,MAiDbf,EAAKI,OAAOqB,iBAAiB,SA9CR,WACnBb,ID/C0BzB,IAAMK,KAAK,iBCkDlCC,MAAK,WACJO,EAAKQ,KAAKoB,YAAc,GACxB5B,EAAKS,MAAMmB,YAAc,GAEzB5B,EAAKK,QAAQQ,UAAUG,OAAO,QAC9BhB,EAAKI,OAAOS,UAAUG,OAAO,QAC7BhB,EAAKV,MAAMuB,UAAUC,IAAI,WAE1Be,QAAQd,MAmCbf,EAAKM,KAAKmB,iBAAiB,UAhCN,SAAAK,GAAK,IDxDAC,ECwDA,EACCD,EAAEE,OAAOC,SAA1BzB,EADgB,EAChBA,KAAMa,EADU,EACVA,OACRa,EAAa,CAAE1B,KAAMA,EAAK2B,MAAOd,OAAQA,EAAOc,OAEtDL,EAAEM,iBACFxB,KD7DwBmB,EC+DbG,ED9DV/C,IAAMK,KAAK,YAAauC,GAAStC,MAAK,qBAAGE,SC+DvCF,MAAK,SAAA4C,GACJ1B,EAAS2B,KAAKD,MAEf5C,KAAKwB,GACLxB,MAAK,WACJe,EAAK2B,MAAQ,GACbd,EAAOc,MAAQ,MAEhBN,QAAQd,MAiBbf,EAAKU,KAAKe,iBAAiB,SAdN,SAAAK,GAAK,IACjBV,EAAMU,EAAEE,OAAOO,QAAfnB,GAEHA,IACFR,ID5EyB,SAAAQ,GAAE,OAAIjC,IAAMqD,OAAN,aAA0BpB,GC6EzDqB,CAAcrB,GAAI3B,MAAK,WACrBkB,EAAWA,EAAS+B,QAAO,SAAAC,GAAI,OAAIA,EAAKvB,KAAOA,QAC9C3B,KAAKwB,GAAQY,QAAQd,S","file":"main.4695d2c16665509ce80f.js","sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://goit-phonebook-api.herokuapp.com/';\n\nconst setToken = (token) => {\n   axios.defaults.headers.common['Authorization'] = token;\n};\n\nexport const login = userData =>\n   axios.post('/users/login', userData).then(({ data }) => {\n      setToken(data.token);\n\n   return data;\n});\n\nexport const logout = () => axios.post('/users/logout');\n\nexport const getContacts = () =>\n   axios.get('/contacts').then(({ data }) => data);\n\nexport const addContact = payload =>\n   axios.post('/contacts', payload).then(({ data }) => data);\n\nexport const deleteContact = id => axios.delete(`/contacts/${id}`);\n","import { login, logout, getContacts, addContact, deleteContact } from './api';\nimport './styles.css';\n\n\n\nconst refs = {\n  loader: document.querySelector('.loader'),\n  login: document.querySelector('.login'),\n  logout: document.querySelector('.logout'),\n  content: document.querySelector('.content'),\n  form: document.querySelector('.form'),\n  userInfo: document.querySelector('.user-info'),\n  name: document.querySelector('.name'),\n  email: document.querySelector('.email'),\n  list: document.querySelector('.list'),\n};\n\nlet contacts = [];\n\nconst showLoader = () => refs.loader.classList.add('show');\nconst hideLoader = () => refs.loader.classList.remove('show');\n\nconst render = () => {\n  const items = contacts\n    .map(\n      ({ id, name, number }) =>\n        `<li>${name}: ${number} <button class=\"delete\" data-id=${id}>x</button></li>`,\n    )\n    .join('');\n\n  refs.list.innerHTML = '';\n  refs.list.insertAdjacentHTML('beforeend', items);\n};\n\nconst handleLogin = () => {\n  const userData = {\n    email: 'test.user@mail.com',\n    password: '1234567',\n\n    // email: 'sergnovosad@mail.com',\n    // password: '7654321',\n  };\n\n  showLoader();\n\n  login(userData)\n    .then(({ user }) => {\n      refs.name.textContent = user.name;\n      refs.email.textContent = user.email;\n\n      refs.login.classList.remove('show');\n      refs.logout.classList.add('show');\n      refs.content.classList.add('show');\n    })\n    .then(getContacts)\n    .then(data => (contacts = data))\n    .then(render)\n    .finally(hideLoader);\n};\n\nconst handleLogout = () => {\n  showLoader();\n\n  logout()\n    .then(() => {\n      refs.name.textContent = '';\n      refs.email.textContent = '';\n\n      refs.content.classList.remove('show');\n      refs.logout.classList.remove('show');\n      refs.login.classList.add('show');\n    })\n    .finally(hideLoader);\n};\n\nconst handleSubmit = e => {\n  const { name, number } = e.target.elements;\n  const newContact = { name: name.value, number: number.value };\n\n  e.preventDefault();\n  showLoader();\n\n  addContact(newContact)\n    .then(contact => {\n      contacts.push(contact);\n    })\n    .then(render)\n    .then(() => {\n      name.value = '';\n      number.value = '';\n    })\n    .finally(hideLoader);\n};\n\nconst handleDelete = e => {\n  const {id} = e.target.dataset;\n\n  if (id) {\n    showLoader();\n    deleteContact(id).then(() => {\n      contacts = contacts.filter(item => item.id !== id);\n    }).then(render).finally(hideLoader);\n  };\n}\n\nrefs.login.addEventListener('click', handleLogin);\nrefs.logout.addEventListener('click', handleLogout);\nrefs.form.addEventListener('submit', handleSubmit);\nrefs.list.addEventListener('click', handleDelete);"],"sourceRoot":""}